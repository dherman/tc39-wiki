<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML+RDFa 1.0//EN"
    "http://www.w3.org/MarkUp/DTD/xhtml-rdfa-1.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
      xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#"
      xmlns:dc="http://purl.org/dc/elements/1.1/"
      xmlns:foaf="http://xmlns.com/foaf/0.1/">
  
  <head>
    
    
      
        <meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8" />
      
      
      <title>
        ECMAScript Wiki » 
        Private names
      </title>
      
      
        <!-- YUI CSS reset, fonts, base -->
        <link rel="stylesheet" type="text/css" href="http://yui.yahooapis.com/combo?3.0.0/build/cssreset/reset-min.css&amp;3.0.0/build/cssfonts/fonts-min.css&amp;3.0.0/build/cssbase/base-min.css" media="screen, projection" />
        
        <link rel="stylesheet" type="text/css" href="../media/css/style.css" media="screen, projection" />
        <link rel="stylesheet" type="text/css" href="../media/css/pygments-cs.css" media="screen, projection" />
      
      
      
      
      
        
      
    <script type="text/javascript" src="http://use.typekit.com/ruc1ksw.js"></script>
    <script type="text/javascript">try{Typekit.load();}catch(e){}</script>
    <link rel="icon" href="/tc39-wiki/favicon.ico"/>
    
  </head>
  
  <body >
    
      
      
        
          
  
    <div id="breadcrumbs-container">
    <ol id="breadcrumbs">
      
        <li class="crumb-0 not-last">
          
            <a href="../">index</a>
          
        </li>
      
        <li class="crumb-1 not-last">
          
            <a href="./">harmony</a>
          
        </li>
      
        <li class="crumb-2 last">
          
            private-names
          
        </li>
      
    </ol> <!-- ol#breadcrumbs -->
    </div> <!-- div#breadcrumbs-container -->
  

        
      
      
      <div id="content">
      <div id="content-body">
        
        
        
        <h1>Private names</h1>
<p><em>Champions</em>: <a href="../contributors/dave-herman">Dave Herman</a>, <a href="../contributors/allen-wirfs-brock">Allen Wirfs-Brock</a></p>
<p>Private names are a new, special kind of object that can be used as an unguessable property name in objects. You can use scope to control access to them so only the parts of your program that you give access to the name object can get at properties with that name.</p>
<ul>
<li><a href="details/private-names">detailed proposal</a></li>
</ul>
<h2>Private names for information hiding</h2>
<p><strong>Example:</strong> a widely-used library might wish to provide objects that hide their implementation details so that clients don't accidentally rely on them.</p>
<div class="codehilite"><pre><span class="nx">module</span> <span class="nx">query</span> <span class="p">{</span>
    <span class="kr">import</span> <span class="nx">Name</span> <span class="nx">from</span> <span class="s2">&quot;@name&quot;</span><span class="p">;</span>

    <span class="nx">let</span> <span class="nx">elements</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Name</span><span class="p">();</span>

    <span class="kd">function</span> <span class="nx">QueryResult</span><span class="p">(...)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">[</span><span class="nx">elements</span><span class="p">]</span> <span class="o">=</span> <span class="p">...;</span>
    <span class="p">}</span>

    <span class="kr">export</span> <span class="kd">function</span> <span class="nx">query</span><span class="p">(</span><span class="nx">selector</span><span class="p">)</span> <span class="p">{</span>
        <span class="p">...</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nx">QueryResult</span><span class="p">(...)</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h2>Private names for tamper resistance</h2>
<p><strong>Example:</strong> an online game might provide a <code>Player</code> class that represents a player in the game, and encapsulates access to the player's score. To prevent tampering with the player's score, it can be made private by giving the score property a private name:</p>
<div class="codehilite"><pre><span class="nx">module</span> <span class="nx">player</span> <span class="p">{</span>
    <span class="kr">import</span> <span class="nx">Name</span> <span class="nx">from</span> <span class="s2">&quot;@name&quot;</span><span class="p">;</span>

    <span class="c1">// unexported so no one else has access to it</span>
    <span class="nx">let</span> <span class="nx">score</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Name</span><span class="p">();</span>

    <span class="kr">export</span> <span class="kd">function</span> <span class="nx">Player</span><span class="p">(</span><span class="nx">username</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">username</span> <span class="o">=</span> <span class="nx">username</span><span class="p">;</span>
        <span class="k">this</span><span class="p">[</span><span class="nx">score</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="c1">// retrieve the current score</span>
    <span class="nx">Player</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">getScore</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">[</span><span class="nx">score</span><span class="p">];</span>
    <span class="p">}</span>

    <span class="c1">// unexported so no one else has access to it</span>
    <span class="kd">function</span> <span class="nx">score</span><span class="p">(</span><span class="nx">p</span><span class="p">,</span> <span class="nx">n</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">p</span><span class="p">[</span><span class="nx">score</span><span class="p">]</span> <span class="o">+=</span> <span class="nx">n</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="c1">// etc...</span>
<span class="p">}</span>
</pre></div>
        
        
        
        
        <hr class="clear" />
      </div> <!-- div#content-body -->
      </div> <!-- div#content -->
      
      
      <div id="footer">
      <div id="footer-body">
        <p>
          
            ECMAScript Wiki —
          
          Powered by <a href="http://markdoc.org/">Markdoc</a> —
          Source at <a href="http://github.com/dherman/tc39-wiki">GitHub</a>
        </p>
      </div>
      </div>
      
    
    
    
    <hr class="clear" />
  </body>
</html>